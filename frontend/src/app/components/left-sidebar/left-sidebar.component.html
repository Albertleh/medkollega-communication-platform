<div
  class="w-72 h-screen border-r border-gray-200 bg-white flex flex-col pl-5 pt-3
         transition-transform duration-300 ease-in-out"
  [class.-translate-x-full]="!isOpen"
>

  <!--  FIXER BEREICH -->
  <div class="flex-shrink-0">
    <h4 class="text-sm font-normal text-gray-500 mb-2 leading-tight">
      zuletzt bearbeitete Patienten
    </h4>

    <div class="mb-4 flex items-center gap-2 mr-5">
      <div class="relative flex-1">
        <input
          type="text"
          placeholder="Search ..."
          (input)="onSearch($event.target.value)"
          class="w-full rounded-xl border border-gray-300 bg-white py-2 pl-10 pr-3 text-sm
                 focus:border-black focus:ring-jet-black-400 focus:ring-2 focus:outline-none"
        />
        <span class="material-symbols-rounded absolute left-3 top-1.5 text-gray-400 text-xl">
          search
        </span>
      </div>

      <!--  PLUS BUTTON -->
      <button
        (click)="openCreatePatient()"
        class="flex items-center justify-center h-10 w-10 rounded-xl border border-gray-300
               text-gray-600 hover:text-[#2D6A6A] hover:border-[#2D6A6A]
               transition-all shadow-sm hover:shadow"
        title="Neuen Patienten anlegen"
      >
        <span class="material-symbols-rounded text-xl">add</span>
      </button>
    </div>
  </div>

  <!--  SCROLLBEREICH -->
  <div class="flex-1 overflow-y-auto space-y-2 pr-1">

    <div
      *ngFor="let patient of filteredPatients"
      class="flex items-center space-x-4 cursor-pointer p-2 rounded-2xl
             transition-all duration-150 hover:shadow-sm"

      (click)="onSelectPatient(patient)"

      [class.bg-jet-black-100]="patient.id === selectedPatientId"
      [class.text-gray-900]="patient.id === selectedPatientId"
    >
      <app-avatar
        [first]="patient.firstName"
        [last]="patient.lastName"
      ></app-avatar>

      <span class="text-gray-800 font-normal text-md">
        {{ patient.firstName }} {{ patient.lastName }}
      </span>
    </div>

  </div>
</div>

<app-patient-create
  *ngIf="createMode"
  (close)="closeCreatePatient()"
  (created)="onPatientCreated($event)">
</app-patient-create>
